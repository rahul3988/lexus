<Window x:Class="Lexus2_0.Desktop.Views.NewTicketDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="New Ticket - Booking Form" 
        Height="700" 
        Width="800"
        WindowStartupLocation="CenterOwner"
        Background="{StaticResource DarkGrey}"
        ResizeMode="CanResize">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <TextBlock Grid.Row="0" 
                  Text="Create New Booking Ticket" 
                  FontSize="18" 
                  FontWeight="Bold" 
                  Foreground="{StaticResource TextWhite}" 
                  Margin="0,0,0,20"/>
        
        <!-- Form Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                
                <!-- Top Section: Journey Details -->
                <TextBlock Text="Journey Details" 
                          FontSize="16" 
                          FontWeight="Bold" 
                          Foreground="{StaticResource LightBlue}"
                          Margin="0,0,0,10"/>
                
                <Border Background="{StaticResource LightGrey}" Padding="15" CornerRadius="3" Margin="0,0,0,15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="From Station:" Foreground="{StaticResource TextWhite}" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBox x:Name="FromStationTextBox" Grid.Row="1" Grid.Column="0" Margin="0,0,0,15" Background="{StaticResource DarkGrey}" Foreground="{StaticResource TextWhite}" Padding="8,6"/>
                        
                        <TextBlock Grid.Row="0" Grid.Column="2" Text="To Station:" Foreground="{StaticResource TextWhite}" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBox x:Name="ToStationTextBox" Grid.Row="1" Grid.Column="2" Margin="0,0,0,15" Background="{StaticResource DarkGrey}" Foreground="{StaticResource TextWhite}" Padding="8,6"/>
                        
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Travel Date:" Foreground="{StaticResource TextWhite}" FontWeight="Bold" Margin="0,0,0,5"/>
                        <DatePicker x:Name="TravelDatePicker" Grid.Row="3" Grid.Column="0" Margin="0,0,0,0" Background="{StaticResource DarkGrey}" Foreground="{StaticResource TextWhite}"/>
                        
                        <TextBlock Grid.Row="2" Grid.Column="2" Text="Train No:" Foreground="{StaticResource TextWhite}" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBox x:Name="TrainNoTextBox" Grid.Row="3" Grid.Column="2" Margin="0,0,0,0" Background="{StaticResource DarkGrey}" Foreground="{StaticResource TextWhite}" Padding="8,6"/>
                    </Grid>
                </Border>
                
                <Border Background="{StaticResource LightGrey}" Padding="15" CornerRadius="3" Margin="0,0,0,15">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="10"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="Class:" Foreground="{StaticResource TextWhite}" FontWeight="Bold" Margin="0,0,0,5"/>
                        <ComboBox x:Name="ClassComboBox" Grid.Column="0" Grid.Row="1" Margin="0,5,0,0" Background="{StaticResource DarkGrey}" Foreground="{StaticResource TextWhite}">
                            <ComboBoxItem Content="SL" IsSelected="True"/>
                            <ComboBoxItem Content="3A"/>
                            <ComboBoxItem Content="2A"/>
                            <ComboBoxItem Content="1A"/>
                            <ComboBoxItem Content="CC"/>
                            <ComboBoxItem Content="2S"/>
                        </ComboBox>
                        
                        <TextBlock Grid.Column="2" Text="Quota:" Foreground="{StaticResource TextWhite}" FontWeight="Bold" Margin="0,0,0,5"/>
                        <ComboBox x:Name="QuotaComboBox" Grid.Column="2" Grid.Row="1" Margin="0,5,0,0" Background="{StaticResource DarkGrey}" Foreground="{StaticResource TextWhite}">
                            <ComboBoxItem Content="General" IsSelected="True"/>
                            <ComboBoxItem Content="Tatkal"/>
                            <ComboBoxItem Content="Premium Tatkal"/>
                            <ComboBoxItem Content="Ladies"/>
                            <ComboBoxItem Content="Senior Citizen"/>
                        </ComboBox>
                    </Grid>
                </Border>
                
                <!-- Middle Section: Passenger Details -->
                <TextBlock Text="Passenger Details" 
                          FontSize="16" 
                          FontWeight="Bold" 
                          Foreground="{StaticResource LightBlue}"
                          Margin="0,15,0,10"/>
                
                <Border Background="{StaticResource LightGrey}" Padding="15" CornerRadius="3" Margin="0,0,0,15">
                    <StackPanel>
                        <DataGrid x:Name="PassengerDataGrid" 
                                 AutoGenerateColumns="False"
                                 CanUserAddRows="True"
                                 CanUserDeleteRows="True"
                                 Background="{StaticResource DarkGrey}"
                                 Foreground="{StaticResource TextWhite}"
                                 BorderBrush="{StaticResource PrimaryBlue}"
                                 GridLinesVisibility="All"
                                 HeadersVisibility="Column"
                                 RowBackground="{StaticResource LightGrey}"
                                 AlternatingRowBackground="{StaticResource DarkGrey}"
                                 Margin="0,0,0,10">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="150"/>
                                <DataGridTextColumn Header="Age" Binding="{Binding Age}" Width="60"/>
                                <DataGridTextColumn Header="Sex" Binding="{Binding Gender}" Width="80"/>
                                <DataGridTextColumn Header="Berth" Binding="{Binding Seat}" Width="120"/>
                                <DataGridTextColumn Header="Food" Binding="{Binding Food}" Width="100"/>
                            </DataGrid.Columns>
                        </DataGrid>
                        
                        <TextBlock Text="Click on empty row to add passenger. Right-click row to delete." 
                                  Foreground="{StaticResource LightBlue}" 
                                  FontSize="11" 
                                  FontStyle="Italic"/>
                    </StackPanel>
                </Border>
                
                <!-- Bottom Section: Contact & Payment -->
                <TextBlock Text="Contact &amp; Payment Details" 
                          FontSize="16" 
                          FontWeight="Bold" 
                          Foreground="{StaticResource LightBlue}"
                          Margin="0,15,0,10"/>
                
                <Border Background="{StaticResource LightGrey}" Padding="15" CornerRadius="3" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock Text="Mobile No:" Foreground="{StaticResource TextWhite}" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBox x:Name="MobileNoTextBox" Margin="0,0,0,15" Background="{StaticResource DarkGrey}" Foreground="{StaticResource TextWhite}" Padding="8,6"/>
                        
                        <TextBlock Text="Payment Gateway:" Foreground="{StaticResource TextWhite}" FontWeight="Bold" Margin="0,0,0,5"/>
                        <ComboBox x:Name="PaymentGatewayComboBox" Margin="0,0,0,15" Background="{StaticResource DarkGrey}" Foreground="{StaticResource TextWhite}">
                            <ComboBoxItem Content="IRCTC" IsSelected="True"/>
                            <ComboBoxItem Content="UPI"/>
                        </ComboBox>
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="10"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <StackPanel Grid.Column="0">
                                <TextBlock Text="Prior Bank:" Foreground="{StaticResource TextWhite}" FontWeight="Bold" Margin="0,0,0,5"/>
                                <ComboBox x:Name="PriorBankComboBox" Margin="0,0,0,0" Background="{StaticResource DarkGrey}" Foreground="{StaticResource TextWhite}"/>
                            </StackPanel>
                            
                            <StackPanel Grid.Column="2">
                                <TextBlock Text="Backup Bank:" Foreground="{StaticResource TextWhite}" FontWeight="Bold" Margin="0,0,0,5"/>
                                <ComboBox x:Name="BackupBankComboBox" Margin="0,0,0,0" Background="{StaticResource DarkGrey}" Foreground="{StaticResource TextWhite}"/>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>
                
            </StackPanel>
        </ScrollViewer>
        
        <!-- Bottom Buttons -->
        <StackPanel Grid.Row="2" 
                   Orientation="Horizontal" 
                   HorizontalAlignment="Right" 
                   Margin="0,20,0,0">
            <Button Content="Cancel" 
                   Style="{StaticResource SecondaryButton}"
                   Click="CancelButton_Click"
                   Margin="0,0,10,0"
                   Padding="15,8"
                   MinWidth="100"/>
            <Button Content="Save" 
                   Style="{StaticResource PrimaryButton}"
                   Click="SaveButton_Click"
                   Padding="15,8"
                   MinWidth="100"/>
        </StackPanel>
    </Grid>
</Window>
